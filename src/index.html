<!DOCTYPE html>
<html>
  <head>
    <title><%= htmlWebpackPlugin.options.title %></title>
  </head>

  <body>
    <h3>romcal - Simple Test Page</h3>
    <p>Gets the current locale from the browser and uses it to generate a liturgical calendar.</p>
    <code id="current-locale"></code>
    <br/>
    <code id="romcal-output"></code>
    <script>
        document.addEventListener("DOMContentLoaded", function(event) {
            var userLang = navigator.language || navigator.userLanguage;

            var code1 = document.getElementById("current-locale");
            var node1 = document.createTextNode(userLang);
            code1.appendChild(node1);

            window.Romcal.calendarFor().then((dates) => {
                var code2 = document.getElementById("romcal-output");
                var node2 = document.createTextNode(JSON.stringify(dates));
                code2.appendChild(node2);
            });
        });
    </script>
  </body>
</html>
